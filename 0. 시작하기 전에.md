# 시작하기 전에

- 작성자 : 윤대헌

이 문서에 대한 설명과 각 책에 있는 1~5장에 대한 공통적인 내용을 실었습니다.

## 이 문서를 보는 법

여기 있는 자료는 '파이썬을 활용한 [데이터 분석과 시각화(1), 텍스트 마이닝(2), 머신러닝(3), 딥러닝(4)]' 교재에 있는 내용과 영상 강의자료를 바탕으로 정리해둔 것입니다. 영상 강의를 다 보고 나서 마땅히 정리가 되지 않을 때 이 글을 한번 본다면 가장 도움이 될 것이라 생각하고 글을 쓰게 되었습니다. 혹여나 영상을 다 볼 시간이 없는 사람에게는 교재와 이 글을 읽기만 하더라도 어느 정도 이해는 할 수 있게 하는것이 이 글의 목표입니다. 다만, 여기 문서에는 그림이 없기 때문에 이 문서만 보고 학습하기에는 한계가 있을 것이라고 생각합니다.

여기에서 할 이야기는 **아나콘다의 설치법과 기초**에 대해서 알아 볼 것입니다.



## Anaconda 설치

#### 설치

https://www.anaconda.com/download 에 가서 아나콘다를 다운받고 설치합니다. 이때 파이썬의 버전은 3.6으로 해야 합니다. ('딥러닝' 교재의 Tensorflow가 파이썬 3.7을 지원하지 않기 때문입니다.) 그러고 나서 자신에게 맞는 사양을 골라 설치합니다. 

#### 설치 확인

설치가 잘 되었는지 경로를 확인해 봅니다. C/USER(사용자)/USER(사용자명)/Anaconda가 있으면 됩니다. 그 경로 바로 앞에 실습데이터를 만듭니다. Pydata[1,2,3,4]해서 만들면 되고 각 교재 넘버링에 맞게 실습 데이터를 붙여넣으면 됩니다.

#### Jupyter notebook

주피터 노트북은 웹 브라우저 기반의 노트북으로 코드와 문서를 같이 작성할 수 있는 개발 환경입니다. 실행하면 디렉토리가 나오는데 이는 Anaconda가 설치된 경로를 보여주는 것입니다.

New -> Python File하면 새로운 파이썬 파일이 불러와지게 되고 파이썬 문법에 맞게 코드를 짜면 됩니다. 스크립트를 실행할 때는 Shift + Enter를 누르면 됩니다. tab키를 눌러서 어떤 변수나 명령어를 참고할 수 있는 리스트가 등장합니다.

#### 실습에 필요한 추가 라이브러리 설치

기본적으로 Anaconda에서는 과학 분석과 관련한 기본적인 여러 패키지들이 설치되어 있습니다. 그래서 따로 설치할 필요는 없습니다. 다만 각 교재에 따라 추가로 불러와야 하는 모듈이 있으니 아래 표를 참고하면 됩니다.

설치 명령어는 jupyter notebook을 틀어서 코드를 작성할 수 있는 환경에 들어와 다음 명령어를 입력하면 됩니다.

```python
!pip install <'모듈'>
```

| 넘버링                  | 추가로 설치할 모듈    |
| ----------------------- | --------------------- |
| 데이터 분석과 시각화(1) | (없음)                |
| 텍스트마이닝(2)         | <조사 중에 있습니다.> |
| 머신러닝(3)             | <조사 중에 있습니다.> |
| 딥러닝(4)               | <조사 중에 있습니다.> |

이를 모두 끝내면 준비는 끝난 겁니다.



## Python 3 기초

이 교재를 쉽게 이해하기 위해서는 파이썬의 기초에 대해서 알아야 합니다. 이 책에서 설명하는 Python 기초는 내용이 부실하니 파이썬의 기초를 모른다면 잠시 이 교재를 내려놓고 파이썬 기초(와 간단한 알고리즘)를 공부한 뒤에 보는 것이 좋습니다. (너무 많은 기초를 볼 필요는 없습니다.)

따라서 여기에는 Python 기초를 설명하지 않습니다.



## numerical python 기본 명령어

numpy는 과학 계산을 위한 파이썬 데이터 분석 패키지입니다. 데이터 분석을 위해서는 꼭 알아야 할 패키지입니다. 행렬끼리 덧셈, 뺄셈, 나눗셈, 곱셈을 할 수 있으며 계산 속도가 빠르다는 점이 있습니다. 

* 행렬에서 가로줄이 행, 세로줄이 열입니다

```python
# numpy를 불러옵니다. 자주 쓰이므로 np라고 줄여 씁니다.
import numpy as np

# numpy 배열을 생성하는 법입니다. 행렬처럼 쓸 수 있습니다.
# 리스트가 1차원이면 1차원 리스트, 2차원이면 2차원 리스트가 됩니다.
# 일반 리스트와 거의 비슷합니다만 출력하는 부분 등 조금씩 다릅니다.
np.array(<'리스트'>)
np.array([[1,2,3],[4,5,6],[6,7,8]])

# np.arange는 range()명령어 와 동일하게 사용하면 됩니다.
np.arange(<'시작값'>, <'끝 값'>, <'간격'>)

# np.reshape 지금 배열된 행렬을 새로운 행렬에 순서대로 집어넣습니다 'C'이면 값을 행부터 넣습니다.
<'array'>.reshape(<'행'>, <'열'>, order='C' or 'F')

# 행렬은 연산도 가능합니다.
np.add(<'행렬'>, <'행렬'>)
np.subtract(<'행렬'>, <'행렬'>)
np.multiply(<'행렬'>, <'행렬'>)
np.dot(<'행렬'>, <'행렬'>)

#외에도 각 데이터에 대해서 연산하는
np.sqrt(<'행렬'>)
np.log(<'행렬'>)
np.abs(<'행렬'>)
np.exp(<'행렬'>)
#등 이런 것들이 있습니다.
```



## pandas 기본 명령어

pandas는 자료구조 및 데이터 분석/처리를 위한 파이썬 패키지입니다. numpy와 같이 데이터 분석을 위해서는 꼭 알아야 할 패키지입니다.

#### 데이터 프레임과 파일 불러오기

```python
# pandas를 불러옵니다. 자주 쓰이므로 pd라고 줄여 씁니다.
import pandas as pd

# 1. Series : index와 value로 구성된다는 점에서 리스트와는 구분됩니다.
a1 = pd.Series([1, 3, 5, 7])
a1  # output = 0 1 / 1 3 / 2 5 / 3 7
a2 = pd.Series([1, 3, 5, 7], index = ['a', 'b', 'c', 'd'])
a2  # output = a 1 / b 3 / c 5 / d 7

# 2. DataFrame : 엑셀과 같이 숫자, 문자 등 다양한 데이터를 하나의 표에 담을 수 있는 자료 구조
b = pd.DataFrame(<'2차원 배열'>)

# 데이터 파일 불러오기 : csv파일과 Excel 파일을 불러올 수 있습니다. DataFrame형식으로 저장됩니다.
df = pd.read_csv('<csv파일>', encoding='euc-kr')
df = pd.read_excel('<xlsx파일>', encoding='utf-8')
# encoding은 안써도 됨. 다만 한글이 들어가 있는 파일을 불러오기 위해서는 encoding='euc-kr'를 해야 합니다.
```

#### 데이터 프레임 추출

```python
# 행(가로줄)을 추출할 때는 리스트 자르듯이 자르면 됩니다.
df[1:5]  # 1, 2, 3, 4행
df[:3]  # 1, 2행
df[1:7:2]  # 1, 3, 5행

# 열(세로줄)을 추출할 때는 대괄호를 한개 더 끼워줍니다.
df[[<'변수 이름'>]]  # 열의 이름을 작성하면 됩니다.
df[df.columns[[1, 3]]  # df.columns[[1, 3]] = ['2번째 데이터', '4번째 데이터'] 인텍싱 1과 3을 가져옵니다.
df.loc[:, <'변수 이름1'> : <'변수 이름2'>]  # '변수 이름1'부터 '변수 이름2'까지 가져옵니다.

# 행과 열을 추출할 때는 iloc나 at을 사용합니다.
df.iloc[1:7, 0:2]  # 1~6행, 0~1열, 복수
df.at[5, 'amount']  # 5행의 amount값, 단일

#'edu'열에 있는 빈도를 확인합니다.
df['edu'].value_counts(sort = False)

#데이터 프레임 정보 확인합니다.
df.describe()
```

#### 데이터 프레임과 데이터 변환

```python
# 데이터 프레임 복사
df_columns = df.copy()  # 데이터 프레임을 복사합니다. 이때 df와는 독립적으로 지정됩니다.
df_columns = df_columns[[<'변수 이름1'>, <'변수 이름2'>, <'변수 이름3'>]]  # 3개의 열만 가져옵니다.

# 데이터 열 이름 수정
df_columns.rename(columns = {<'변수 이름'> : <'바꿀 이름'>}, inplace = True) # 열의 변수이름을 바꿉니다.

# 데이터 열 추가
df['2배수'] = df['수'] * 1.1  # 변수를 새로 지정하면서 마지막 열에 추가합니다.
df.insert(8, '2배수', df['수'] * 2)  # 8번째 열에 추가합니다.

# 데이터 열 삭제
del df['총 가격']

# 데이터 추출
df_gender = df[(df[<'변수 이름1'>] == 1)]  # '변수 이름'이 1만을 가져와서 새로 데이터프레임을 만듭니다.
df_reacount = df[(df[<'변수 이름1']<10) & (df[<'변수 이름1'>]>=1)]  # 변수 이름1 값에서 1보다 크거나 같고 10보다 작은 데이터를 만족하는 것만 불러옵니다.


# 데이터 변경
def 매커니즘(data):
    if data == 2:
        return 1
    elif data in [3, 4]:
        return 2
    elif data >= 5:
        return 3

df['새로운 변수 이름'] = df['변수 이름'].apply(매커니즘)  # 함수를 이용하여 데이터를 일괄적으로 변경합니다.
```
